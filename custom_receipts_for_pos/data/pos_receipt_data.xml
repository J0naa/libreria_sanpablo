<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">

        <!-- ========================================================= -->
        <!-- ========== DISEÑO 1 — CORPORATIVO (Estilo Walmart) ====== -->
        <!-- ========================================================= -->
        <record id="pos_receipt_design_corporate" model="pos.receipt">
            <field name="name">Diseño Corporativo FEL</field>
            <field name="design_receipt"><![CDATA[
<div class="pos-receipt">

    <!-- LOGO EMPRESA -->
    <t t-if="env.services.pos.company.logo">
        <img class="pos-receipt-logo"
             t-att-src="env.services.pos.company.logo"
             alt="Logo" style="width: 40%; height: auto; margin-bottom:5px;"/>
    </t>

    <!-- INFORMACIÓN DE LA EMPRESA -->
    <div class="pos-receipt-contact" style="font-size:12px; text-align:center;">
        <div><strong><t t-esc="env.services.pos.company.name"/></strong></div>

        <t t-if="env.services.pos.company.street">
            <div><t t-esc="env.services.pos.company.street"/></div>
        </t>
        <t t-if="env.services.pos.company.phone">
            <div>Tel: <t t-esc="env.services.pos.company.phone"/></div>
        </t>
        <t t-if="env.services.pos.company.vat">
            <div>NIT: <t t-esc="env.services.pos.company.vat"/></div>
        </t>
    </div>

    <br/>

    <!-- TITULO DTE -->
    <div style="text-align:center; font-size:13px; font-weight:bold; border-bottom:1px solid #000;">
        DOCUMENTO TRIBUTARIO ELECTRÓNICO (DTE)
    </div>

    <br/>

    <!-- INFORMACIÓN FEL -->
    <t t-if="props.receipt.invoice_data">
        <div style="font-size:12px;">
            <div><b>No. Autorización:</b> <t t-esc="props.receipt.invoice_data.auth_number"/></div>
            <div><b>Serie:</b> <t t-esc="props.receipt.invoice_data.dte_serie"/></div>
            <div><b>Número:</b> <t t-esc="props.receipt.invoice_data.dte_number"/></div>
            <div><b>Fecha Emisión:</b> <t t-esc="props.receipt.invoice_data.fecha_envio"/></div>
        </div>
    </t>

    <br/>

    <!-- CLIENTE -->
    <t t-if="props.receipt.invoice_data.client_name">
        <div style="font-size:12px;">
            <div><b>Cliente:</b> <t t-esc="props.receipt.invoice_data.client_name"/></div>
            <t t-if="props.receipt.invoice_data.client_vat">
                <div><b>NIT:</b> <t t-esc="props.receipt.invoice_data.client_vat"/></div>
            </t>
        </div>
    </t>

    <br/>

    <!-- PRODUCTOS -->
    <table style="width:100%; font-size:12px; border-top:1px dashed;">
        <tr>
            <th style="text-align:left;">Producto</th>
            <th style="text-align:center;">Cant.</th>
            <th style="text-align:right;">Subtotal</th>
        </tr>

        <tr t-foreach="props.orderlines" t-as="l" t-key="l.cid">
            <td><t t-esc="l.get_product().display_name"/></td>
            <td style="text-align:center;"><t t-esc="l.get_quantity_str_with_unit()"/></td>
            <td style="text-align:right;"><t t-esc="env.utils.formatCurrency(l.get_display_price())"/></td>
        </tr>
    </table>

    <br/>

    <!-- TOTALES -->
    <div style="font-size:12px; border-top:1px solid #000; padding-top:4px;">
        <div>
            Subtotal <span style="float:right;"><t t-esc="env.utils.formatCurrency(props.receipt.total_without_tax)"/></span>
        </div>

        <t t-foreach="props.receipt.tax_details" t-as="tx" t-key="tx.name">
            <div>
                <t t-esc="tx.name"/>:
                <span style="float:right;"><t t-esc="env.utils.formatCurrency(tx.amount)"/></span>
            </div>
        </t>

        <div style="border-top:1px solid #000; margin-top:4px; font-weight:bold;">
            Total <span style="float:right;"><t t-esc="env.utils.formatCurrency(props.receipt.amount_total)"/></span>
        </div>
    </div>

    <br/>

    <!-- PIE DE FACTURACIÓN -->
    <div style="font-size:11px; text-align:center;">
        Documento validado por DIGIFACT<br/>
        Proveedor Autorizado Calificado
    </div>

    <br/>
    <div style="text-align:center; font-size:12px;">¡Gracias por su compra!</div>
</div>
]]></field>
        </record>

        <!-- ========================================================= -->
        <!-- ========== DISEÑO 2 — MINIMALISTA (Estilo Apple) ========= -->
        <!-- ========================================================= -->
        <record id="pos_receipt_design_minimal" model="pos.receipt">
            <field name="name">Diseño Minimalista FEL</field>
            <field name="design_receipt"><![CDATA[
<div class="pos-receipt" style="font-size:12px;">

    <!-- LOGO CENTRADO -->
    <t t-if="env.services.pos.company.logo">
        <img t-att-src="env.services.pos.company.logo"
             style="width:50%; display:block; margin:auto;"/>
    </t>

    <br/>

    <div style="text-align:center;">
        <b><t t-esc="env.services.pos.company.name"/></b><br/>
        <t t-if="env.services.pos.company.vat">NIT: <t t-esc="env.services.pos.company.vat"/></t><br/>
        <t t-if="env.services.pos.company.phone">Tel: <t t-esc="env.services.pos.company.phone"/></t>
    </div>

    <hr/>

    <div style="text-align:center; font-weight:bold;">FACTURA ELECTRÓNICA – FEL</div>

    <t t-if="props.receipt.invoice_data">
        <div>
            Autorización: <t t-esc="props.receipt.invoice_data.auth_number"/><br/>
            Serie: <t t-esc="props.receipt.invoice_data.dte_serie"/><br/>
            Número: <t t-esc="props.receipt.invoice_data.dte_number"/><br/>
            Fecha: <t t-esc="props.receipt.invoice_data.fecha_envio"/>
        </div>
    </t>

    <hr/>

    <b>Cliente</b><br/>
   <t t-if="props.receipt.invoice_data.client_name">
        <div style="font-size:12px;">
            <div><b>Cliente:</b> <t t-esc="props.receipt.invoice_data.client_name"/></div>
            <t t-if="props.receipt.invoice_data.client_vat">
                <div><b>NIT:</b> <t t-esc="props.receipt.invoice_data.client_vat"/></div>
            </t>
        </div>
    </t>

    <hr/>

    <!-- PRODUCTOS -->
    <table style="width:100%;">
        <tr>
            <th>Producto</th>
            <th>Cant</th>
            <th>Subtotal</th>
        </tr>

        <tr t-foreach="props.orderlines" t-as="l" t-key="l.cid">
            <td><t t-esc="l.get_product().display_name"/></td>
            <td style="text-align:center;"><t t-esc="l.get_quantity_str_with_unit()"/></td>
            <td style="text-align:right;"><t t-esc="env.utils.formatCurrency(l.get_display_price())"/></td>
        </tr>
    </table>

    <hr/>

    Total:
    <span style="float:right;"><t t-esc="env.utils.formatCurrency(props.receipt.amount_total)"/></span>

    <br/><br/>

    <div style="text-align:center; font-size:11px;">
        Documento validado por DIGIFACT
    </div>

</div>
]]></field>
        </record>

        <!-- ========================================================= -->
        <!-- ========== DISEÑO 3 — ESTILO SAT Guatemala =============== -->
        <!-- ========================================================= -->
        <record id="pos_receipt_design_sat" model="pos.receipt">
            <field name="name">Diseño SAT Guatemala</field>
            <field name="design_receipt"><![CDATA[
<div class="pos-receipt" style="font-size:12px;">

    <div style="text-align:center;">
        <t t-if="env.services.pos.company.logo">
            <img t-att-src="env.services.pos.company.logo" style="width:35%;"/>
        </t>
        <br/>
        <b><t t-esc="env.services.pos.company.name"/></b><br/>
        NIT: <t t-esc="env.services.pos.company.vat"/><br/>
        <t t-if="env.services.pos.company.street"><t t-esc="env.services.pos.company.street"/></t>
    </div>

    <hr/>

    <div style="text-align:center; font-weight:bold;">FACTURA ELECTRÓNICA FEL</div>

    <t t-if="props.receipt.invoice_data">
        <div>
            Autorización: <t t-esc="props.receipt.invoice_data.auth_number"/><br/>
            Serie: <t t-esc="props.receipt.invoice_data.dte_serie"/><br/>
            Número: <t t-esc="props.receipt.invoice_data.dte_number"/><br/>
            Fecha: <t t-esc="props.receipt.invoice_data.fecha_envio"/><br/>
        </div>
    </t>

    <hr/>

    <b>Cliente</b><br/>
     <t t-if="props.receipt.invoice_data.client_name">
        <div style="font-size:12px;">
            <div><b>Cliente:</b> <t t-esc="props.receipt.invoice_data.client_name"/></div>
            <t t-if="props.receipt.invoice_data.client_vat">
                <div><b>NIT:</b> <t t-esc="props.receipt.invoice_data.client_vat"/></div>
            </t>
        </div>
    </t>

    <hr/>

    <!-- PRODUCTOS -->
    <table style="width:100%;">
        <tr>
            <th>Producto</th>
            <th>Cant</th>
            <th>Subtotal</th>
        </tr>

        <tr t-foreach="props.orderlines" t-as="l" t-key="l.cid">
            <td><t t-esc="l.get_product().display_name"/></td>
            <td style="text-align:center;"><t t-esc="l.get_quantity_str_with_unit()"/></td>
            <td style="text-align:right;"><t t-esc="env.utils.formatCurrency(l.get_display_price())"/></td>
        </tr>
    </table>

    <hr/>

    Total:
    <span style="float:right;"><t t-esc="env.utils.formatCurrency(props.receipt.amount_total)"/></span>

    <br/><br/>

    <div style="text-align:center; font-size:10px;">
        Documento validado por DIGIFACT
    </div>

</div>
]]></field>
        </record>

        <!-- ========================================================= -->
        <!-- ====== DISEÑO 4 — TICKET SIMPLE SIN FACTURACIÓN ========= -->
        <!-- ========================================================= -->
        <record id="pos_receipt_simple" model="pos.receipt">
            <field name="name">Ticket Simple</field>
            <field name="design_receipt"><![CDATA[
<div class="pos-receipt" style="font-size:12px;">

    <div style="text-align:center;">
        <t t-if="env.services.pos.company.logo">
            <img t-att-src="env.services.pos.company.logo" style="width:40%;"/>
        </t>
        <br/>
        <b><t t-esc="env.services.pos.company.name"/></b>
    </div>

    <hr/>

    Fecha: <t t-esc="props.receipt.date"/>

    <hr/>

    <!-- PRODUCTOS -->
    <table style="width:100%;">
        <tr>
            <th>Producto</th>
            <th>Cant</th>
            <th>Total</th>
        </tr>

        <tr t-foreach="props.orderlines" t-as="l" t-key="l.cid">
            <td><t t-esc="l.get_product().display_name"/></td>
            <td style="text-align:center;"><t t-esc="l.get_quantity_str_with_unit()"/></td>
            <td style="text-align:right;"><t t-esc="env.utils.formatCurrency(l.get_display_price())"/></td>
        </tr>
    </table>

    <hr/>

    Total:
    <span style="float:right;"><t t-esc="env.utils.formatCurrency(props.receipt.amount_total)"/></span>

    <br/><br/>

    <div style="text-align:center;">¡Gracias por su compra!</div>

</div>
]]></field>
        </record>

    </data>
</odoo>
