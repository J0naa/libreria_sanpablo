<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">

        <!-- ========================================================= -->
        <!-- ========== DISEÑO 1 — CORPORATIVO (Estilo Walmart) ====== -->
        <!-- ========================================================= -->
       <record id="pos_receipt_design_fel_guia" model="pos.receipt">
    <field name="name">Diseño FEL Guatemala - Guía</field>
    <field name="design_receipt"><![CDATA[
<div class="pos-receipt" style="font-size:12px;">

    <!-- LOGO -->
    <t t-if="env.services.pos.company">
        <div style="text-align:center; margin-bottom:6px;">
            <img t-attf-src="/web/image?model=res.company&amp;id={{env.services.pos.company.id}}&amp;field=logo"
                 alt="Logo"
                 style="width:30%; height:auto;"/>
        </div>
    </t>

    <!-- DATOS EMPRESA -->
    <div style="text-align:center;">
        <strong><t t-esc="env.services.pos.company.name"/></strong><br/>
        <t t-if="env.services.pos.company.vat">
            NIT: <t t-esc="env.services.pos.company.vat"/><br/>
        </t>
        <t t-if="env.services.pos.company.street">
            <t t-esc="env.services.pos.company.street"/><br/>
        </t>
        <t t-if="env.services.pos.company.phone">
            Tel: <t t-esc="env.services.pos.company.phone"/>
        </t>
    </div>

    <br/>

    <!-- TITULO -->
    <div style="text-align:center; font-weight:bold; border-top:1px solid #000; border-bottom:1px solid #000; padding:4px;">
        FACTURA
    </div>

    <br/>

    <!-- DATOS FEL -->
    <t t-if="props.receipt.invoice_data">
        <div>
            <div>No. <t t-esc="props.receipt.invoice_data.dte_number"/></div>
            <div>Autorización: <t t-esc="props.receipt.invoice_data.auth_number"/></div>
            <div>Fecha: <t t-esc="props.receipt.invoice_data.fecha_envio"/></div>
            <div>Certificador: DIGIFACT</div>
            <div>NIT Certificador: 7745482-0</div>
            <div>DIGIFACT SERVICIOS, SOCIEDAD ANÓNIMA</div>
        </div>
    </t>

    <br/>

    <!-- CLIENTE -->
    <div>
        <strong>Cliente:</strong>
        <t t-esc="props.receipt.invoice_data.client_name or 'Consumidor Final'"/><br/>
        <t t-if="props.receipt.invoice_data.client_vat">
            <strong>NIT:</strong> <t t-esc="props.receipt.invoice_data.client_vat"/>
        </t>
    </div>

    <br/>

    <!-- PRODUCTOS -->
    <table style="width:100%; border-top:1px dashed #000;">
        <thead>
            <tr>
                <th style="text-align:left;">Producto</th>
                <th style="text-align:center;">Cant</th>
                <th style="text-align:right;">P. Unit</th>
                <th style="text-align:right;">Total</th>
            </tr>
        </thead>
        <tbody>
            <tr t-foreach="props.orderlines" t-as="l" t-key="l.cid">
                <td><t t-esc="l.get_product().display_name"/></td>
                <td style="text-align:center;">
                    <t t-esc="l.get_quantity_str_with_unit()"/>
                </td>
                <td style="text-align:right;">
                    <t t-esc="env.utils.formatCurrency(l.get_unit_price())"/>
                </td>
                <td style="text-align:right;">
                    <t t-esc="env.utils.formatCurrency(l.get_display_price())"/>
                </td>
            </tr>
        </tbody>
    </table>

    <br/>

    <!-- TOTALES -->
    <div style="border-top:1px solid #000; padding-top:4px;">
        <div>
            Subtotal:
            <span style="float:right;">
                <t t-esc="env.utils.formatCurrency(props.receipt.total_without_tax)"/>
            </span>
        </div>

        <t t-foreach="props.receipt.tax_details" t-as="tx" t-key="tx.name">
            <div>
                <t t-esc="tx.name"/>:
                <span style="float:right;">
                    <t t-esc="env.utils.formatCurrency(tx.amount)"/>
                </span>
            </div>
        </t>

        <div style="font-weight:bold; border-top:1px solid #000; margin-top:4px;">
            TOTAL:
            <span style="float:right;">
                <t t-esc="env.utils.formatCurrency(props.receipt.amount_total)"/>
            </span>
        </div>
    </div>

    <br/>

    <!-- METODO DE PAGO -->
    <div>
        Método de pago:
        <t t-esc="props.paymentlines[0].name if props.paymentlines else 'N/A'"/>
    </div>

    <br/>

    <!-- MENSAJES FINALES -->
    <div style="text-align:center; font-weight:bold;">
        ¡GRACIAS POR SU COMPRA!
    </div>

    <div style="text-align:center; font-size:11px; margin-top:4px;">
        Este documento es una representación impresa de un Documento Tributario Electrónico
    </div>

</div>
]]></field>
</record>


        <!-- ========================================================= -->
        <!-- ========== DISEÑO 2 — MINIMALISTA (Estilo Apple) ========= -->
        <!-- ========================================================= -->
        <record id="pos_receipt_design_minimal" model="pos.receipt">
            <field name="name">Diseño Minimalista FEL</field>
            <field name="design_receipt"><![CDATA[
<div class="pos-receipt" style="font-size:12px;">

    <!-- LOGO CENTRADO -->
                       <!-- LOGO -->
                     <t t-if="env.services.pos.company">
                        <div style="text-align:center;">
                            <img t-attf-src="/web/image?model=res.company&amp;id={{env.services.pos.company.id}}&amp;field=logo" 
                                 alt="Logo" 
                                 style="width:30%; height:auto;"/>
                        </div>
                    </t>
    

    <br/>

    <div style="text-align:center;">
        <b><t t-esc="env.services.pos.company.name"/></b><br/>
        <t t-if="env.services.pos.company.vat">NIT: <t t-esc="env.services.pos.company.vat"/></t><br/>
        <t t-if="env.services.pos.company.phone">Tel: <t t-esc="env.services.pos.company.phone"/></t>
    </div>

    <hr/>

    <div style="text-align:center; font-weight:bold;">FACTURA ELECTRÓNICA – FEL</div>

    <t t-if="props.receipt.invoice_data">
        <div>
            Autorización: <t t-esc="props.receipt.invoice_data.auth_number"/><br/>
            Serie: <t t-esc="props.receipt.invoice_data.dte_serie"/><br/>
            Número: <t t-esc="props.receipt.invoice_data.dte_number"/><br/>
            Fecha: <t t-esc="props.receipt.invoice_data.fecha_envio"/>
        </div>
    </t>

    <hr/>

    <b>Cliente</b><br/>
   <t t-if="props.receipt.invoice_data.client_name">
        <div style="font-size:12px;">
            <div><b>Cliente:</b> <t t-esc="props.receipt.invoice_data.client_name"/></div>
            <t t-if="props.receipt.invoice_data.client_vat">
                <div><b>NIT:</b> <t t-esc="props.receipt.invoice_data.client_vat"/></div>
            </t>
        </div>
    </t>

    <hr/>

    <!-- PRODUCTOS -->
    <table style="width:100%;">
        <tr>
            <th>Producto</th>
            <th>Cant</th>
            <th>Subtotal</th>
        </tr>

        <tr t-foreach="props.orderlines" t-as="l" t-key="l.cid">
            <td><t t-esc="l.get_product().display_name"/></td>
            <td style="text-align:center;"><t t-esc="l.get_quantity_str_with_unit()"/></td>
            <td style="text-align:right;"><t t-esc="env.utils.formatCurrency(l.get_display_price())"/></td>
        </tr>
    </table>

    <hr/>

    Total:
    <span style="float:right;"><t t-esc="env.utils.formatCurrency(props.receipt.amount_total)"/></span>

    <br/><br/>

    <div style="text-align:center; font-size:11px;">
        Documento validado por DIGIFACT
    </div>

</div>
]]></field>
        </record>

        <!-- ========================================================= -->
        <!-- ========== DISEÑO 3 — ESTILO SAT Guatemala =============== -->
        <!-- ========================================================= -->
        <record id="pos_receipt_design_sat" model="pos.receipt">
            <field name="name">Diseño SAT Guatemala</field>
            <field name="design_receipt"><![CDATA[
<div class="pos-receipt" style="font-size:12px;">

    <div style="text-align:center;">
                            <!-- LOGO -->
                     <t t-if="env.services.pos.company">
                        <div style="text-align:center;">
                            <img t-attf-src="/web/image?model=res.company&amp;id={{env.services.pos.company.id}}&amp;field=logo" 
                                 alt="Logo" 
                                 style="width:30%; height:auto;"/>
                        </div>
                    </t>
    
        <br/>
        <b><t t-esc="env.services.pos.company.name"/></b><br/>
        NIT: <t t-esc="env.services.pos.company.vat"/><br/>
        <t t-if="env.services.pos.company.street"><t t-esc="env.services.pos.company.street"/></t>
    </div>

    <hr/>

    <div style="text-align:center; font-weight:bold;">FACTURA ELECTRÓNICA FEL</div>

    <t t-if="props.receipt.invoice_data">
        <div>
            Autorización: <t t-esc="props.receipt.invoice_data.auth_number"/><br/>
            Serie: <t t-esc="props.receipt.invoice_data.dte_serie"/><br/>
            Número: <t t-esc="props.receipt.invoice_data.dte_number"/><br/>
            Fecha: <t t-esc="props.receipt.invoice_data.fecha_envio"/><br/>
        </div>
    </t>

    <hr/>

   
     <t t-if="props.receipt.invoice_data.client_name">
        <div style="font-size:12px;">
            <div><b>Cliente:</b> <t t-esc="props.receipt.invoice_data.client_name"/></div>
            <t t-if="props.receipt.invoice_data.client_vat">
                <div><b>NIT:</b> <t t-esc="props.receipt.invoice_data.client_vat"/></div>
            </t>
        </div>
    </t>

    <hr/>

    <!-- PRODUCTOS -->
    <table style="width:100%;">
        <tr>
            <th>Producto</th>
            <th>Cant</th>
            <th>Subtotal</th>
        </tr>

        <tr t-foreach="props.orderlines" t-as="l" t-key="l.cid">
            <td><t t-esc="l.get_product().display_name"/></td>
            <td style="text-align:center;"><t t-esc="l.get_quantity_str_with_unit()"/></td>
            <td style="text-align:right;"><t t-esc="env.utils.formatCurrency(l.get_display_price())"/></td>
        </tr>
    </table>

    <hr/>

    Total:
    <span style="float:right;"><t t-esc="env.utils.formatCurrency(props.receipt.amount_total)"/></span>

    <br/><br/>

    <div style="text-align:center; font-size:10px;">
        Documento validado por DIGIFACT
    </div>

</div>
]]></field>
        </record>

        <!-- ========================================================= -->
        <!-- ====== DISEÑO 4 — TICKET SIMPLE SIN FACTURACIÓN ========= -->
        <!-- ========================================================= -->
        <record id="pos_receipt_simple" model="pos.receipt">
            <field name="name">Ticket Simple</field>
            <field name="design_receipt"><![CDATA[
<div class="pos-receipt" style="font-size:12px;">

    <div style="text-align:center;">
                           <!-- LOGO -->
                     <t t-if="env.services.pos.company">
                        <div style="text-align:center;">
                            <img t-attf-src="/web/image?model=res.company&amp;id={{env.services.pos.company.id}}&amp;field=logo" 
                                 alt="Logo" 
                                 style="width:30%; height:auto;"/>
                        </div>
                    </t>
    
        <br/>
        <b><t t-esc="env.services.pos.company.name"/></b>
    </div>

    <hr/>

    Fecha: <t t-esc="props.receipt.date"/>

    <hr/>

    <!-- PRODUCTOS -->
    <table style="width:100%;">
        <tr>
            <th>Producto</th>
            <th>Cant</th>
            <th>Total</th>
        </tr>

        <tr t-foreach="props.orderlines" t-as="l" t-key="l.cid">
            <td><t t-esc="l.get_product().display_name"/></td>
            <td style="text-align:center;"><t t-esc="l.get_quantity_str_with_unit()"/></td>
            <td style="text-align:right;"><t t-esc="env.utils.formatCurrency(l.get_display_price())"/></td>
        </tr>
    </table>

    <hr/>

    Total:
    <span style="float:right;"><t t-esc="env.utils.formatCurrency(props.receipt.amount_total)"/></span>

    <br/><br/>

    <div style="text-align:center;">¡Gracias por su compra!</div>

</div>
]]></field>
        </record>

    </data>
</odoo>
